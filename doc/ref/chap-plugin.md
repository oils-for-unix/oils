---
in_progress: yes
all_docs_url: ..
body_css_class: width40 help-body
default_highlighter: oils-sh
preserve_anchor_case: yes
---

Plugins and Hooks
===

This chapter in the [Oils Reference](index.html) describes extension points for
OSH and YSH.

<div id="toc">
</div>

## Signals

### SIGTERM

SIGTERM is the default signal sent by `kill`.  It asks a process to terminate.

You can register a SIGTERM handler with the [trap][] builtin.

[trap]: chap-builtin-cmd.html#trap

### SIGINT

SIGINT is usually generated by Ctrl-C.  It interrupts what the shell is doing
and returns to the prompt.

You can register a SIGINT handler with the [trap][] builtin.

### SIGQUIT

SIGQUIT is usually generated by Ctrl-\.

### SIGTTIN

Used by the job control implementation.

### SIGTTOU

Used by the job control implementation.

### SIGWINCH

Oils receives this signal when the terminal window size changes.

## Traps

### DEBUG

Runs code before "leaf" commands, like

    echo hi
    a=b
    [[ x -eq y ]]
    (( a = 42 ))

But not before `{`:

    { echo one; echo two; }

---

See the [Quirks doc](../quirks.html) for an interaction between the `DEBUG`
trap, pipelines, and interactive shells.

### ERR

TODO

### EXIT

TODO

### RETURN

TODO

## Words

<!--
<h3 id="PS1">PS1</h3>
-->

### PS1

First line of a prompt.

### PS2

Second line of a prompt.

### PS3

For the 'select' builtin (unimplemented).

### PS4

For 'set -o xtrace'.  The leading character is special.

## Completion

### complete

The [complete][] builtin calls back into the shell evaluator to create
candidate strings for autocompletion:

- `-C` is an external command that's executed
- `-F` is the name of a shell function name that's run
- `-W` is a word list that's evalutaed

[complete]: chap-builtin-cmd.html#complete

## Other Plugin

### PROMPT_COMMAND

A command that's executed before each prompt.

This feature is taken from [bash]($xref).

## YSH

### renderPrompt()

Users may define this func to customize their prompt.

The func should take the global `value.IO` instance, and return a prompt string
(type `value.Str`).

To construct the prompt, it can make calls like
[`io->promptVal('$')`]($chap-type-method:promptVal).

To render the prompt, YSH first checks if this function exists.  Otherwise, it
uses [`$PS1`]($chap-plugin:PS1) with a `ysh` prefix.

<!-- note: doctools/cmark.py turns promptVal -> promptval -->


